<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eleventy Blog</title>

  <link rel="stylesheet" href="/eleventy-gh-demo/css/site.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Roboto&display=fallback" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"> 
</head>
<body>
<header>
<div class="logo">JMH</div>
  <a href="/eleventy-gh-demo/" class="home" >Blog</a>
  <a href="/eleventy-gh-demo/About" class="link--about">About</a>
   <a href="/eleventy-gh-demo/About" class="link--about">Contact</a>
</header>
<main>
  <article class="main-article">
<time datetime="2019-06-01T00:00:00.000Z">June 1, 2019</time>
<h1>Ansible role for the provisioning of Shelly Cardano binaries</h1>
  
  <img src="/eleventy-gh-demo/img/blogimg.jpg" />
<!-- Excerpt Start -->
<p>As already known, the technical design of SPEC is based on the idea of diversity and robustness. We don't just deploy the official cardano-node docker images.</p>
<!-- Excerpt End -->
<p>We build two images from scratch, one based on Debian and one based on Nix. While the Nix script is closely similar to the IOHK nix build, the Debian image is completely custom and very &quot;sourcy&quot;. This means that on the Deb container we compile everything from source ghc, cabal, cardano-node(!).</p>
<p>So in the end we turn out with a set of docker containers:</p>
<pre><code>Deb + GHC version + Cardano-Node version
Nix + GHC version + Cardano-Node version
</code></pre>
<p>But only compiling two versions is not enough, you want to make sure your x nodes (8 for SPEC mainnet) don't all update to the same version at the same time. Ideally you want to introduce new versions to your deployment step by step and have enough time between updating individual nodes.</p>
<p>For SPEC this happens through a scheduled ansible run. The run happens every second day and only ever updates a small number of nodes each run (1 or 2 nodes every two days). There are ways to run a system update on all nodes simultaneously or even to deploy a single cardano-node version to all nodes simultaneously, but those methods are only used in case of a critical event that requires instant response.</p>
<h2>Legal Stuff</h2>
<p>We do not accept any liability for any loss or damage.</p>

</article>
</main>
<footer>&copy; My Blog</footer>
</body>
</html>